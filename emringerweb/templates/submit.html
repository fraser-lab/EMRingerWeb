{% extends "base.html" %}

{% block scripts %}
{{super()}}

<!-- jQuery
====================================================================== -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

<!-- Lodash
====================================================================== -->
<script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/3.3.1/lodash.min.js" type="text/javascript"></script>

<!-- Fine Uploader JS
====================================================================== -->
<script src="{{ url_for('static', filename='fine-uploader/jquery.fine-uploader.js') }}"></script>

<!-- Fine Uploader Form JS 
====================================================================== -->
<script src="{{ url_for('static', filename='js/form.js') }}"></script>

<!-- Fine Uploader template
====================================================================== -->

<script type="text/template" id="qq-template-model">
  <div class="qq-uploader-selector qq-uploader span12">
    <div class="qq-upload-drop-area-selector qq-upload-drop-area span12" qq-hide-dropzone>
      <span>Drop pdb files here!</span>
    </div>
    <div class="btn btn-primary qq-upload-button-selector upload-button " style="width: 100%;">
      <div><span class="glyphicon glyphicon-upload" aria-hidden="true"></span> Select a pdb model to upload </div>
    </div>
    <span class="qq-drop-processing-selector qq-drop-processing">
      <span>Processing dropped files...</span>
      <span class="qq-drop-processing-spinner-selector qq-drop-processing-spinner"></span>
    </span>
    <ul class="qq-upload-list-selector qq-upload-list" style="margin-top: 10px; margin-bottom: 10px; text-align: center;">
      <li>
        <div class="qq-progress-bar-container-selector"> 
          <div class="qq-progress-bar-selector qq-progress-bar"></div>
        </div>
        <span class="qq-upload-spinner-selector qq-upload-spinner"></span>
        <span class="qq-upload-file-selector qq-upload-file"></span>
        <span class="qq-upload-size-selector qq-upload-size"></span>
        <a class="qq-upload-cancel-selector qq-upload-cancel" href="#">Cancel</a>
        <span class="qq-upload-status-text-selector qq-upload-status-text"></span>
        <br/>
      </li>
    </ul>
  </div>
</script>

<script type="text/template" id="qq-template-map">
  <div class="qq-uploader-selector qq-uploader span12">
    <div class="qq-upload-drop-area-selector qq-upload-drop-area span12" qq-hide-dropzone>
      <span>Drop map files here!</span>
    </div>
    <div class="qq-upload-button-selector upload-button btn btn-primary" style="width: 100%;">
      <div><span class="glyphicon glyphicon-upload" aria-hidden="true"></span> Select a map file to upload </div>
    </div>
    <span class="qq-drop-processing-selector qq-drop-processing">
      <span>Processing dropped files...</span>
      <span class="qq-drop-processing-spinner-selector qq-drop-processing-spinner"></span>
    </span>
    <ul class="qq-upload-list-selector qq-upload-list" style="margin-top: 10px; text-align: center;">
      <li>
        <div class="qq-progress-bar-container-selector">
          <div class="qq-progress-bar-selector qq-progress-bar"></div>
        </div>
        <span class="qq-upload-spinner-selector qq-upload-spinner"></span>
        <span class="qq-upload-file-selector qq-upload-file"></span>
        <span class="qq-upload-size-selector qq-upload-size"></span>
        <a class="qq-upload-cancel-selector qq-upload-cancel" href="#">Cancel</a>
        <span class="qq-upload-status-text-selector qq-upload-status-text"></span>
        <br>
      </li>
    </ul>
  </div>
</script>

{% endblock %}

{% block page_content %}

<h1> Welcome to the webserver for EMRinger <br><small>Under development by the Fraser Lab at UCSF</small> </h1>
 
<hr>
<!-- Fine Uploader DOM Element
====================================================================== -->

<div class="form-group">
<div id="modelUploader"></div>
<div id="modelUploaderError"></div>
<div id="mapUploader"></div>
<div id="mapUploaderError"></div>
<form id="qq-form" required>
  <label for="user_email">Email address (for records, and for notifications on job completion)</label>
  <input id="email"  type="email" class="form-control" placeholder="Enter valid email here" name="user_email" required> 
</form>
<div id="triggerUpload" class="btn btn-primary form-control" style="margin-top: 10px;"><span class="glyphicon glyphicon-cloud-upload" aria-hidden="true"></span>Submit Job</div>
</div>

{% endblock %}

{% block styles %}
{{ super() }}
<!-- Fine Uploader CSS
====================================================================== -->
<link href="{{ url_for('static', filename='fine-uploader/fine-uploader.css') }}" rel="stylesheet">

  <style>
    /* For the bootstrapped demos */
    li.alert-success {
        background-color: #DFF0D8;
    }

    li.alert-error {
        background-color: #F2DEDE;
    }

    .alert-error .qq-upload-failed-text {
        display: inline;
    }
  </style>
{% endblock %}
